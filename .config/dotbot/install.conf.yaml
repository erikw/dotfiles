- defaults:
    link:
      relink: true
    create:
      mode: 0700
    shell:
      stderr: true
      stdout: true

- clean: ['~']

- link:
    ~/.bashrc: .bashrc
    ~/.config: .config
    ~/.hushlogin: .hushlogin
    ~/.local/repos:
      path: .local/repos
      create: true
    ~/.zshenv: .zshenv
    ~/bin: bin

- create:
    - ~/dl
    - ~/pub
    - ~/src
    - ~/tmp
    - ~/.local/share/tig # Make tig use $XDG_DATA_HOME. Reference: https://wiki.archlinux.org/title/XDG_Base_Directory#Partial

- shell:
  - [git submodule update --init --recursive, Installing submodules]

# TODO enable when using again on ~erikw
#- ifmacos:
#    - brewfile:
#      - .config/homebrew/Brewfile
    # Disabled as of bug: https://github.com/wonderbeyond/dotbot-if/issues/1
    # Hanlded in macos_install.sh for now.
    #- if:
    #    cond: 'test -e ~/.config/homebrew/Brewfile.$(hostname)'
    #    met:
    #    - shell:
    #      - [git submodule update --init --recursive, Installing submodules]
